(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{5645:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4147,23)),Promise.resolve().then(r.t.bind(r,8489,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,4531)),Promise.resolve().then(r.bind(r,7829)),Promise.resolve().then(r.bind(r,1018)),Promise.resolve().then(r.bind(r,2959))},4531:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var a=r(2115);function n(){return(0,a.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered with scope:",e.scope)}).catch(e=>{console.error("Service Worker registration failed:",e)})},[]),null}},7829:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(5155),n=r(2115),s=r(2959),l=r(4057);let i=(0,l.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),o=(0,l.A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),c=(0,l.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function d(){let[e,t]=(0,n.useState)(null),[r,l]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/data.json"),r=await e.json();t(r)}catch(e){u("Failed to load data"),console.error("Error loading text data:",e)}finally{l(!1)}})()},[]);let{isPlaying:h,togglePlay:m,currentTime:f,duration:x}=(0,s.G)(),[v,p]=(0,n.useState)(!1),y=null==e?void 0:e.home.music,g=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))};return(0,a.jsx)("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 z-[9999]",children:(0,a.jsxs)("div",{className:"transform transition-all duration-500 ease-in-out overflow-hidden\n          ".concat(v?"h-44 bg-black/50 backdrop-blur-md rounded-t-xl w-80":"h-8 w-24"),children:[(0,a.jsx)("button",{onClick:()=>p(!v),className:"w-full h-10 flex items-center justify-center group hover:bg-black/30 transition-colors duration-300 rounded-t-xl",children:(0,a.jsx)(i,{className:"w-5 h-5 text-white/70 transition-all duration-300 \n              group-hover:text-white\n              ".concat(v?"rotate-180":"group-hover:translate-y-1")})}),(0,a.jsx)("div",{className:"text-center text-xl transition-all duration-500 text-white/90 px-10\n          ".concat(v?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"),children:y}),(0,a.jsxs)("div",{className:"px-6 transition-all duration-500\n          ".concat(v?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"),children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-white/70 mb-1",children:[(0,a.jsx)("span",{children:g(f)}),(0,a.jsx)("span",{children:g(x)})]}),(0,a.jsx)("div",{className:"h-1 bg-white/20 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-white/90 transition-all duration-300",style:{width:"".concat(f/x*100,"%")}})})]}),(0,a.jsx)("div",{className:"flex justify-center items-center h-16 transition-all duration-500\n          ".concat(v?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"),children:(0,a.jsxs)("button",{onClick:m,className:"bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-full  flex items-center gap-2 transform transition-all duration-300 hover:scale-105 active:scale-95",children:[h?(0,a.jsx)(o,{className:"w-4 h-4"}):(0,a.jsx)(c,{className:"w-4 h-4"}),h?"หยุดเพลง":"เล่นเพลง"]})})]})})}},1018:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(5155),n=r(2115);function s(e){let{children:t}=e,{loading:r,progress:s}=function(){let[e,t]=(0,n.useState)(!0),[r,a]=(0,n.useState)([]),[s,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{(async function(){let e=await fetch("/api/fetch/"),r=await e.json();a(r);let n=0,s=r.length;r.forEach(e=>{let r=new Image;r.src=e,r.onload=r.onerror=()=>{l(Math.round(++n/s*100)),n===s&&t(!1)}})})()},[]),{loading:e,progress:s}}();return r?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,a.jsx)("span",{className:"loading loading-ring loading-lg text-pink-300"}),(0,a.jsxs)("div",{className:"mt-4 text-pink-300 text-xl",children:["Loading... ",s,"%"]}),(0,a.jsx)("div",{className:"w-full mt-4",children:(0,a.jsxs)("div",{className:"relative pt-1",children:[(0,a.jsx)("div",{className:"flex mb-2 items-center justify-between",children:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-pink-300",children:[s,"%"]})})}),(0,a.jsx)("div",{className:"flex mb-2",children:(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-pink-300 h-2.5 rounded-full",style:{width:"".concat(s,"%")}})})})]})})]}):(0,a.jsx)(a.Fragment,{children:t})}},2959:(e,t,r)=>{"use strict";r.d(t,{AudioProvider:()=>l,G:()=>i});var a=r(5155),n=r(2115);let s=(0,n.createContext)({isPlaying:!1,togglePlay:()=>{},currentTime:0,duration:0});function l(e){let{children:t}=e,r=(0,n.useRef)(null),[l,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(0),[d,u]=(0,n.useState)(0),[h,m]=(0,n.useState)(!1),f=()=>{r.current||(r.current=new Audio("/musics/test.mp3"),r.current.loop=!0,r.current.addEventListener("canplaythrough",()=>{var e;u((null===(e=r.current)||void 0===e?void 0:e.duration)||0)}),r.current.addEventListener("timeupdate",()=>{var e;c((null===(e=r.current)||void 0===e?void 0:e.currentTime)||0)}),r.current.addEventListener("play",()=>{i(!0)}),r.current.addEventListener("pause",()=>{i(!1)}),m(!0))};(0,n.useEffect)(()=>(f(),()=>{r.current&&(r.current.pause(),r.current=null)}),[]);let x=async()=>{r.current||h||f();try{r.current&&(l?r.current.pause():await r.current.play())}catch(e){console.error("Error toggling audio:",e)}};return(0,a.jsx)(s.Provider,{value:{isPlaying:l,togglePlay:x,currentTime:o,duration:d},children:t})}let i=()=>(0,n.useContext)(s)},347:()=>{},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}},4057:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...h}=e;return(0,a.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:r,strokeWidth:o?24*Number(i)/Number(n):i,className:s("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,a.createElement)(i,{ref:l,iconNode:t,className:s("lucide-".concat(n(e)),o),...c})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[481,690,441,517,358],()=>t(5645)),_N_E=e.O()}]);