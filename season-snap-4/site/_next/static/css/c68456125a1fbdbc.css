:root{--primary:#fff9f9;--bg-color:#2c1810;--bg-envelope-color:#ff8fa3;--envelope-tab:#ff7389;--envelope-cover:#ff5d76;--shadow-color:rgba(0,0,0,.2);--txt-color:#d4145a;--heart-color:#ff1e1e}.body{margin:0;padding:0;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.container>.envelope-wrapper{background:var(--bg-envelope-color);box-shadow:0 0 40px var(--shadow-color);animation:bounceEnvelope 2.5s ease-in-out infinite;transform-origin:center bottom}.container>.envelope-wrapper:after{content:"";position:absolute;bottom:-20px;left:5%;width:90%;height:20px;background:radial-gradient(ellipse at center,rgba(0,0,0,.15) 0,transparent 70%);animation:shadowScale 1s ease-in-out infinite}.envelope-wrapper>.envelope{position:relative;width:min(400px,90vw);height:min(230px,52vw)}.envelope-wrapper>.envelope:before{content:"";position:absolute;top:0;z-index:2;border-top:min(130px,30vw) solid var(--envelope-tab);border-right:min(200px,45vw) solid transparent;border-left:min(200px,45vw) solid transparent;transform-origin:top;transition:all .5s ease-in-out .7s}.envelope-wrapper>.envelope:after{content:"";position:absolute;z-index:2;width:0;height:0;border-top:min(130px,30vw) solid transparent;border-right:min(200px,45vw) solid var(--envelope-cover);border-bottom:min(100px,23vw) solid var(--envelope-cover);border-left:min(200px,45vw) solid var(--envelope-cover)}.envelope>.letter{position:absolute;right:20%;bottom:0;width:60%;height:70%;background:linear-gradient(135deg,var(--primary) 0,#ffe6e6 100%);text-align:center;transition:all 1s ease-in-out;box-shadow:0 0 px var(--shadow-color);padding:clamp(10px,2vw,20px) clamp(5px,1vw,10px);cursor:pointer;border:2px solid #ffd1d1}.envelope>.letter>.text{font-family:Kanit,serif;color:var(--txt-color);text-align:left;font-size:10px;display:-webkit-box;-webkit-line-clamp:8;line-clamp:8;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}h1{font-size:24px}.envelope>.letter>.text p{margin:0;overflow:visible;text-overflow:unset;white-space:normal;word-wrap:break-word}.flap>.envelope:before{transform:rotateX(180deg);z-index:0}.flap>.envelope>.letter{bottom:150px;transform:scale(1.5);transition-delay:1s}.envelope>.letter.open{width:80%;height:90%;transform:scale(1.2);transition:all .5s ease-in-out}.open-button{position:absolute;top:20px;background-color:var(--bg-envelope-color);border:none;padding:10px 20px;font-size:16px;cursor:pointer;box-shadow:0 0 10px var(--shadow-color);transition:background-color .3s ease}.open-button:hover{background-color:var(--envelope-tab)}@media screen and (max-width:480px){.flap>.envelope>.letter{bottom:100px;transform:scale(1.2)}.heart,.heart:after,.heart:before{width:12px;height:12px}.heart:before{top:-6px}.heart:after{right:6px}}@media screen and (max-width:360px){.flap>.envelope>.letter{bottom:80px;transform:scale(1.1)}}.popup-content{padding:1rem;font-family:Kanit,serif;color:var(--txt-color);font-size:clamp(16px,3vw,24px);height:100%;overflow-y:auto;background:repeating-linear-gradient(45deg,transparent,transparent 10px,rgba(255,182,193,.1) 0,rgba(255,182,193,.1) 20px)}.close-button{position:absolute;top:10px;right:10px;background:none;border:none;font-size:24px;cursor:pointer;color:var(--heart-color);width:40px;height:40px;border-radius:50%;transition:background-color .3s}@keyframes scaleIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes bounceEnvelope{0%,to{transform:translateY(0) scale(1)}75%{transform:translateY(-10px) scale(1.02)}}@keyframes shadowScale{0%,to{transform:scale(1);opacity:.3}50%{transform:scale(.7);opacity:.1}}.envelope-wrapper.flap{animation:none}.envelope-wrapper.flap:after{display:none}.heart{top:50%;left:50%;background:var(--heart-color);z-index:4;transform:translate(-50%,-20%) rotate(45deg);transition:transform .5s ease-in-out 1s;box-shadow:0 2px 8px rgba(255,30,30,.4);cursor:pointer}.heart,.heart:after,.heart:before{position:absolute;width:15px;height:15px}.heart:after,.heart:before{content:"";background-color:var(--heart-color);border-radius:50%}.heart:before{top:-7.5px}.heart:after{right:7.5px}.flap>.heart{transform:rotate(90deg);transition-delay:.4s}.fade-in{opacity:1}.fade-out{opacity:0}.slide-in{transform:scale(1);opacity:1}.slide-out{transform:scale(.95);opacity:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes slideIn{0%{transform:scale(.9) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@keyframes slideOut{0%{transform:scale(1) translateY(0);opacity:1}to{transform:scale(.9) translateY(20px);opacity:0}}.popup-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;transition:none}.popup-overlay.fade-in{animation:fadeIn .3s ease-out forwards}.popup-overlay.fade-out{animation:fadeOut .3s ease-in forwards}.popup-letter{background:linear-gradient(135deg,var(--primary) 0,#ffe6e6 100%);width:min(90vw,600px);height:min(80vh,800px);padding:1rem;border-radius:10px;position:relative;box-shadow:0 5px 30px rgba(0,0,0,.3);border:3px solid #ffd1d1;opacity:0;transform:scale(.9) translateY(20px)}.popup-letter.slide-in{animation:slideIn .4s cubic-bezier(.4,0,.2,1) forwards}.popup-letter.slide-out{animation:slideOut .3s cubic-bezier(.4,0,.2,1) forwards}.close-button{transition:transform .2s ease}.close-button:hover{transform:scale(1.1);background-color:rgba(255,30,30,.1)}